/**
 * WOGAA.js
 * Version: 1.6.1-g12899358
 */
!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},t.apply(this,arguments)};function n(e,t){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");a.async=!0,a.src=e,t&&(a.onload=function(){t()}),n.appendChild(a)}"function"==typeof SuppressedError&&SuppressedError,function(e){e.StartTS="START_TS",e.CompleteTS="COMPLETE_TS",e.TrackStructuredEvent="TRACK_STRUCTURED_EVENT",e.SetUserId="SET_USER_ID",e.SetIdentity="SET_IDENTITY",e.SearchSgSearchEvent="SEARCHSG_SEARCH_EVENT",e.SearchSgDisplayEvent="SEARCHSG_DISPLAY_EVENT",e.SearchSgClickEvent="SEARCHSG_CLICK_EVENT",e.SearchSgRateEvent="SEARCHSG_RATE_EVENT",e.SearchSgSessionInitEvent="SEARCHSG_SESSION_INIT_EVENT",e.SearchSgGeneratedAnswer="SEARCHSG_GENERATED_ANSWER",e.SearchSgGeneratedAnswerInteraction="SEARCHSG_GENERATED_ANSWER_INTERACTION",e.TrackCustomEvent="TRACK_CUSTOM_EVENT"}(e||(e={}));window.wogaaLayer=window.wogaaLayer||[],window.wogaaCustom=window.wogaaCustom||{};var a="Wogaa:js",r="wogaa.logger.debug",o=window.wogaaLayer,i="",c=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];try{var o=window.localStorage.getItem(r);o&&"true"===o&&console.log.apply(console,function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}(["🍭 | ".concat(e," |"),t],n,!1))}catch(e){console.error("Unable get local storage",e)}},s=function(){var e=new RegExp("_sp_id\\.[a-f0-9]+=([^;]+);?"),t=document.cookie.match(e);return!(!t||!t[1])&&t[1].split(".")[0]},l={SearchSG:{searchsg_search:function(t){c(a,"SearchSG","triggered search event"),o.push({type:e.SearchSgSearchEvent,payload:t})},searchsg_display:function(t){c(a,"SearchSG","triggered display event."),o.push({type:e.SearchSgDisplayEvent,payload:t})},searchsg_click:function(t){c(a,"SearchSG","triggered clicked event."),o.push({type:e.SearchSgClickEvent,payload:t})},searchsg_rate:function(t){c(a,"SearchSG","triggered rated feedback event."),o.push({type:e.SearchSgRateEvent,payload:t})},searchsg_session_init:function(t){c(a,"SearchSG","triggered session init event."),o.push({type:e.SearchSgSessionInitEvent,payload:t})},generated_answer:function(t){c(a,"SearchSG","triggered generated answer event."),o.push({type:e.SearchSgGeneratedAnswer,payload:t})},generated_answer_interaction:function(t){c(a,"SearchSG","triggered generated answer interaction event."),o.push({type:e.SearchSgGeneratedAnswerInteraction,payload:t})}}};window.wogaaCustom=t(t({},window.wogaaCustom),{addMeta:function(e){"object"==typeof e&&null!==e&&(window.digitalData=t(t(t({},window.digitalData),{agencyTxnId:null}),e))},completeTransactionalService:function(e,t){void 0===t&&(t={}),c(a,"triggered event complete transactional service",{trackingId:e}),o.push({type:"COMPLETE_TS",payload:{trackingId:e,options:t}})},customContext:function(e,t,n){return l[e][t](n)},getDomainUserId:s,getSessionUserId:function(){try{var e=new RegExp("_sp_id\\.[a-f0-9]+=([^;]+);?"),t=document.cookie.match(e);return!(!t||!t[1])&&t[1].split(".")[5]}catch(e){console.error("Unable getting snowplow session id",e)}},log:c,setDebug:function(e){try{window.localStorage.setItem(r,e.toString().toLowerCase())}catch(e){console.error("Unable get local storage",e)}},setIdentity:function(e){c(a,"triggered event set Snowplow identity context."),i=e.id,o.push({type:"SET_IDENTITY",payload:{id:e.id}})},getIdentity:function(){return i},setUserID:function(n){c(a,"triggered event set Snowplow user id"),o.push({event:e.SetUserId,payload:t({},n)})},trackingError:function(e,t){if(c(a,"tracking error for unhandled promise rejections in client side"),e&&e instanceof Error){if(!e.message||!e.stack){var n="The error is detected without detail message 🚨❓";e.message=n,e.stack="".concat(e.stack?"".concat(e.stack," : ").concat(n):n)}window.wogaa_snowplow("trackError",{message:t||"Tracking error🔥",error:e})}},showSentimentsForIS:function(){c(a,"triggered event show sentiments for IS"),o.push({type:"OPEN_IS_SENTIMENTS"})},showSentimentsForTS:function(e,t){var n=(void 0===t?{uniqueTransactionId:null}:t).uniqueTransactionId;c(a,"triggered event show sentiments for TS"),o.push({type:"COMPLETE_TS",payload:{uniqueTransactionId:n,trackingId:e}})},startTransactionalService:function(e,t){void 0===t&&(t={}),c(a,"triggered event start transactional service",{trackingId:e}),o.push({type:"START_TS",payload:{trackingId:e,options:t}})},trackEvent:function(e,t,n,r,i){var s={category:e,action:t,label:n,property:r,value:i};c(a,"triggered track event",{payload:s}),o.push({type:"TRACK_STRUCTURED_EVENT",payload:s})},trackCustomEvent:function(e,t,n,r,i,s,l,d){c(a,"triggered event set Snowplow identity context.");var p={category:e,action:t,label:n,property:r,value:i,project:s,projectVersion:l,jsonContent:d};o.push({type:"TRACK_CUSTOM_EVENT",payload:p})},wogaaJSVersion:"1.6.1-g12899358"});var d,p,u,g,S,w,h,E,v=window.location.href,f=function(e){var t;return"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),t},y=function(e,t){var n,a=this;return void 0===t&&(t=0),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t)}}((function(){var e=window.location.href;v!==e&&window.dispatchEvent(f("locationchange")),v=e}),0),T=function(e,t,n){var a=e[t];e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=a.apply(this,e);return window.dispatchEvent(f(t)),n.apply(this,e),o}};function m(e){if("false"===e.toLowerCase()||"true"===e.toLowerCase())return 0;var t=e.replace(/-/g,""),n=BigInt("0x".concat(t));return Number(n%BigInt(2))}(d=function(){var e=window.history;e&&"pushState"in e&&T(e,"pushState",y),e&&"replaceState"in e&&T(e,"replaceState",y),window.addEventListener("popstate",y),window.addEventListener("hashchange",y);var t=function(){try{return window.location.href.split("?")[0]}catch(e){return console.error(e),""}}(),a=s();a?n("https://assets.wogaa.sg/scripts/wogaa.js?url="+encodeURIComponent(t+"?inw=".concat(m(a)))):n("https://assets.wogaa.sg/scripts/wogaa.js?url="+encodeURIComponent(t),(function(){var e=0,a=setInterval((function(){var r=s();r?(n("https://assets.wogaa.sg/scripts/wogaa.js?url="+encodeURIComponent(t+"?inw=".concat(m(r),"&lso=true"))),clearInterval(a)):e>=10&&(clearInterval(a),console.warn("dUID not found after maximum attempts.")),e++}),1e3)}))},p=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return p?void 0:(p=!0,d.apply(this,e))})(),u=window,g=document,S="script",u[w="wogaa_snowplow"]||(u.GlobalSnowplowNamespace=u.GlobalSnowplowNamespace||[],u.GlobalSnowplowNamespace.push(w),u[w]=function(){(u[w].q=u[w].q||[]).push(arguments)},u[w].q=u[w].q||[],h=g.createElement(S),E=g.getElementsByTagName(S)[0],h.async=1,h.src="https://assets.wogaa.sg/snowplow/3.13.1/sp.js",E.parentNode.insertBefore(h,E))}();